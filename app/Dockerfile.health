FROM python:3.12-slim
WORKDIR /app
RUN python -m pip install --no-cache-dir fastapi uvicorn
RUN printf "from fastapi import FastAPI\napp=FastAPI()\n@app.get('/health')\ndef h(): return {'status':'ok'}\n" > /app/app.py
ENV PORT=8080
EXPOSE 8080
CMD ["python","-m","uvicorn","app:app","--host","0.0.0.0","--port","8080"]
